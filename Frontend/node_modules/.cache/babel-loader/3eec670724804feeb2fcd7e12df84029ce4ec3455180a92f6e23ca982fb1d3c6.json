{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport AdminLoginComp from '../components/AdminLogincomp.vue'; // Adjust the path as necessary\n\nexport default {\n  name: 'AdminLogin',\n  components: {\n    AdminLoginComp\n  },\n  data() {\n    return {\n      username: '',\n      password: '',\n      loginError: ''\n    };\n  },\n  mounted() {\n    if (localStorage.getItem('isLoggedIn') === 'true') {\n      this.$router.push('/admindashboard');\n    }\n  },\n  methods: {\n    async handleAdminLogin() {\n      this.loginError = '';\n      if (!this.username || !this.password) {\n        this.loginError = 'Please enter both Username and Password.';\n        return;\n      }\n      const validUser = {\n        username: \"admin\",\n        password: \"admin123\"\n      };\n      console.log(\"Attempting admin login with:\", this.username, this.password);\n      try {\n        const res = await axios.post('http://localhost:3000/adminlogin', {\n          username: this.username,\n          password: this.password\n        });\n        console.log('Success', res.data.message || 'Login successful!');\n        this.$router.push('/admindashboard');\n      } catch (err) {\n        console.error('Admin login error:', err);\n        if (err.response && err.response.data && err.response.data.message) {\n          this.loginError = err.response.data.message;\n        } else {\n          this.loginError = 'Something went wrong. Please try again.';\n        }\n      }\n      if (this.username === validUser.username && this.password === validUser.password) {\n        localStorage.setItem('isLoggedIn', 'true');\n        this.$router.push('/admindashboard');\n      } else {\n        this.loginError = \"Invalid email or password. Please try again.\";\n      }\n    }\n  }\n};","map":{"version":3,"names":["axios","AdminLoginComp","name","components","data","username","password","loginError","mounted","localStorage","getItem","$router","push","methods","handleAdminLogin","validUser","console","log","res","post","message","err","error","response","setItem"],"sources":["C:\\Users\\Owen\\Desktop\\Github_Idea2\\Crime-Reporting-Web-Application\\frontend\\src\\pages\\AdminLogin.vue"],"sourcesContent":["<template>\r\n  <div class=\"login-page\">\r\n    <div class=\"login-background\"></div>\r\n\r\n    <div class=\"login-container\">\r\n      <h2>Welcome</h2>\r\n      <img src=\"@/assets/images/logo.png\" alt=\"Admin\" class=\"admin-image\" />\r\n      <AdminLoginComp />\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n\r\n\r\n<script>\r\nimport axios from 'axios';\r\nimport AdminLoginComp from '../components/AdminLogincomp.vue'; // Adjust the path as necessary\r\n\r\nexport default {\r\n  name: 'AdminLogin',\r\n  components: {\r\n    AdminLoginComp\r\n  },\r\n  data() {\r\n    return {\r\n      username: '',\r\n      password: '',\r\n      loginError: ''\r\n    }\r\n  },\r\n\r\n  mounted() {\r\n    if (localStorage.getItem('isLoggedIn') === 'true') {\r\n      this.$router.push('/admindashboard');\r\n    }\r\n  },\r\n  methods: {\r\n    async handleAdminLogin(){\r\n      this.loginError = '';\r\n      if(!this.username || !this.password) {\r\n        this.loginError = 'Please enter both Username and Password.';\r\n        return;\r\n      }\r\n\r\n      const validUser = {\r\n        username: \"admin\",\r\n        password: \"admin123\"\r\n      };\r\n\r\n      console.log(\"Attempting admin login with:\", this.username, this.password);\r\n\r\n      try{\r\n        const res = await  axios.post('http://localhost:3000/adminlogin', { username: this.username, password: this.password });\r\n        console.log('Success', res.data.message || 'Login successful!');\r\n        this.$router.push('/admindashboard');\r\n\r\n      } catch(err){\r\n        console.error('Admin login error:', err);\r\n        if (err.response && err.response.data && err.response.data.message) {\r\n          this.loginError = err.response.data.message;\r\n        } else {\r\n          this.loginError = 'Something went wrong. Please try again.';\r\n        }\r\n      }\r\n      if (this.username === validUser.username && this.password === validUser.password) {\r\n        localStorage.setItem('isLoggedIn', 'true');\r\n        this.$router.push('/admindashboard');\r\n      } else {\r\n        this.loginError = \"Invalid email or password. Please try again.\";\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style scoped>\r\n.login-page {\r\n  position: relative;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n  height: 100vh;\r\n  overflow: hidden;\r\n}\r\n\r\n.login-background {\r\n  position: fixed;\r\n  top: 0;\r\n  left: 0;\r\n  width: 100vw;\r\n  height: 100vh;\r\n  background-image: url('@/assets/images/Background.jpg');\r\n  background-size: cover;\r\n  background-position: center;\r\n  filter: blur(8px);\r\n  z-index: -1;\r\n}\r\n\r\n.login-container {\r\n  position: relative;\r\n  max-width: 400px;\r\n  width: 90%;\r\n  padding: 20px;\r\n  background-color: #f9f9f9;\r\n  border-radius: 5px;\r\n  box-shadow: 0 2px 10px rgba(0,0,0,0.1);\r\n  display: flex;\r\n  flex-direction: column;\r\n  align-items: center;\r\n  justify-content: center;\r\n  min-height: 400px;\r\n  z-index: 1;\r\n}\r\n\r\n.admin-image {\r\n  width: 150px;\r\n  height: auto;\r\n  max-width: 100%;\r\n  margin-bottom: 20px;\r\n  object-fit: contain;\r\n}\r\n\r\n@media (max-width: 600px) {\r\n  .login-container {\r\n    padding: 15px;\r\n    min-height: 300px;\r\n  }\r\n\r\n  .admin-image {\r\n    width: 100px;\r\n  }\r\n}\r\n\r\n</style>\r\n"],"mappings":";AAeA,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,cAAa,MAAO,kCAAkC,EAAE;;AAE/D,eAAe;EACbC,IAAI,EAAE,YAAY;EAClBC,UAAU,EAAE;IACVF;EACF,CAAC;EACDG,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,QAAQ,EAAE,EAAE;MACZC,QAAQ,EAAE,EAAE;MACZC,UAAU,EAAE;IACd;EACF,CAAC;EAEDC,OAAOA,CAAA,EAAG;IACR,IAAIC,YAAY,CAACC,OAAO,CAAC,YAAY,MAAM,MAAM,EAAE;MACjD,IAAI,CAACC,OAAO,CAACC,IAAI,CAAC,iBAAiB,CAAC;IACtC;EACF,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,gBAAgBA,CAAA,EAAE;MACtB,IAAI,CAACP,UAAS,GAAI,EAAE;MACpB,IAAG,CAAC,IAAI,CAACF,QAAO,IAAK,CAAC,IAAI,CAACC,QAAQ,EAAE;QACnC,IAAI,CAACC,UAAS,GAAI,0CAA0C;QAC5D;MACF;MAEA,MAAMQ,SAAQ,GAAI;QAChBV,QAAQ,EAAE,OAAO;QACjBC,QAAQ,EAAE;MACZ,CAAC;MAEDU,OAAO,CAACC,GAAG,CAAC,8BAA8B,EAAE,IAAI,CAACZ,QAAQ,EAAE,IAAI,CAACC,QAAQ,CAAC;MAEzE,IAAG;QACD,MAAMY,GAAE,GAAI,MAAOlB,KAAK,CAACmB,IAAI,CAAC,kCAAkC,EAAE;UAAEd,QAAQ,EAAE,IAAI,CAACA,QAAQ;UAAEC,QAAQ,EAAE,IAAI,CAACA;QAAS,CAAC,CAAC;QACvHU,OAAO,CAACC,GAAG,CAAC,SAAS,EAAEC,GAAG,CAACd,IAAI,CAACgB,OAAM,IAAK,mBAAmB,CAAC;QAC/D,IAAI,CAACT,OAAO,CAACC,IAAI,CAAC,iBAAiB,CAAC;MAEtC,EAAE,OAAMS,GAAG,EAAC;QACVL,OAAO,CAACM,KAAK,CAAC,oBAAoB,EAAED,GAAG,CAAC;QACxC,IAAIA,GAAG,CAACE,QAAO,IAAKF,GAAG,CAACE,QAAQ,CAACnB,IAAG,IAAKiB,GAAG,CAACE,QAAQ,CAACnB,IAAI,CAACgB,OAAO,EAAE;UAClE,IAAI,CAACb,UAAS,GAAIc,GAAG,CAACE,QAAQ,CAACnB,IAAI,CAACgB,OAAO;QAC7C,OAAO;UACL,IAAI,CAACb,UAAS,GAAI,yCAAyC;QAC7D;MACF;MACA,IAAI,IAAI,CAACF,QAAO,KAAMU,SAAS,CAACV,QAAO,IAAK,IAAI,CAACC,QAAO,KAAMS,SAAS,CAACT,QAAQ,EAAE;QAChFG,YAAY,CAACe,OAAO,CAAC,YAAY,EAAE,MAAM,CAAC;QAC1C,IAAI,CAACb,OAAO,CAACC,IAAI,CAAC,iBAAiB,CAAC;MACtC,OAAO;QACL,IAAI,CAACL,UAAS,GAAI,8CAA8C;MAClE;IACF;EACF;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}